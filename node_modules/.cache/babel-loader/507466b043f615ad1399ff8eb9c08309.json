{"ast":null,"code":"import _regeneratorRuntime from\"/Users/changwoonam/sandbox/study/react-for-beginners2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/changwoonam/sandbox/study/react-for-beginners2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/changwoonam/sandbox/study/react-for-beginners2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useCallback}from\"react\";import{Link,useParams}from\"react-router-dom\";import Movie from\"../components/Movie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Detail(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movie=_useState4[0],setMovie=_useState4[1];var getMovie=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://yts.mx/api/v2/movie_details.json?movie_id=\".concat(id));case 2:_context.next=4;return _context.sent.json();case 4:json=_context.sent;setMovie(json.data.movie);setLoading(false);case 7:case\"end\":return _context.stop();}}},_callee);})),[id]);useEffect(function(){getMovie();},[getMovie]);console.log(movie);return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[\" \",\"<<<<< \\uD648\\uC73C\\uB85C \\uAC00\\uAE30\"]}),/*#__PURE__*/_jsx(Movie,{id:movie.id,coverImg:movie.medium_cover_image,title:movie.title,summary:movie.description_full,genres:movie.genres},movie.id)]})});}export default Detail;","map":{"version":3,"names":["useState","useEffect","useCallback","Link","useParams","Movie","Detail","id","loading","setLoading","movie","setMovie","getMovie","fetch","json","data","console","log","medium_cover_image","title","description_full","genres"],"sources":["/Users/changwoonam/sandbox/study/react-for-beginners2/src/routes/Detail.js"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Movie from \"../components/Movie\";\n\nfunction Detail() {\n  const { id } = useParams();\n  const [loading, setLoading] = useState(true);\n  const [movie, setMovie] = useState([]);\n  \n  const getMovie = useCallback( async () => {\n    const json = await (\n      await fetch(`https://yts.mx/api/v2/movie_details.json?movie_id=${id}`)\n    ).json();\n    setMovie(json.data.movie);\n    setLoading(false);\n  },[id]);\n  useEffect(() => {\n    getMovie();\n  }, [getMovie]);\n  console.log(movie);\n  return (\n    <div>\n      {loading ? (\n        <h1>Loading...</h1>\n      ) : (\n        <div>\n        <Link to=\"/\"> {`<<<<< 홈으로 가기`}</Link>\n          <Movie\n            key={movie.id}\n            id={movie.id}\n            coverImg={movie.medium_cover_image}\n            title={movie.title}\n            summary={movie.description_full}\n            genres={movie.genres}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Detail;\n"],"mappings":"ibAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,WAA9B,KAAiD,OAAjD,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,MAAOC,MAAP,KAAkB,qBAAlB,C,wFAEA,QAASC,OAAT,EAAkB,CAChB,eAAeF,SAAS,EAAxB,CAAQG,EAAR,YAAQA,EAAR,CACA,cAA8BP,QAAQ,CAAC,IAAD,CAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eACA,eAA0BT,QAAQ,CAAC,EAAD,CAAlC,yCAAOU,KAAP,eAAcC,QAAd,eAEA,GAAMC,SAAQ,CAAGV,WAAW,wEAAE,oKAEpBW,MAAK,6DAAsDN,EAAtD,EAFe,6CAG1BO,IAH0B,UACtBA,IADsB,eAI5BH,QAAQ,CAACG,IAAI,CAACC,IAAL,CAAUL,KAAX,CAAR,CACAD,UAAU,CAAC,KAAD,CAAV,CAL4B,sDAAF,GAM1B,CAACF,EAAD,CAN0B,CAA5B,CAOAN,SAAS,CAAC,UAAM,CACdW,QAAQ,GACT,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAGAI,OAAO,CAACC,GAAR,CAAYP,KAAZ,EACA,mBACE,qBACGF,OAAO,cACN,kCADM,cAGN,oCACA,MAAC,IAAD,EAAM,EAAE,CAAC,GAAT,yDADA,cAEE,KAAC,KAAD,EAEE,EAAE,CAAEE,KAAK,CAACH,EAFZ,CAGE,QAAQ,CAAEG,KAAK,CAACQ,kBAHlB,CAIE,KAAK,CAAER,KAAK,CAACS,KAJf,CAKE,OAAO,CAAET,KAAK,CAACU,gBALjB,CAME,MAAM,CAAEV,KAAK,CAACW,MANhB,EACOX,KAAK,CAACH,EADb,CAFF,GAJJ,EADF,CAmBD,CAED,cAAeD,OAAf"},"metadata":{},"sourceType":"module"}